let tasks=document.querySelector(".section__tasklist").children;if(null!==localStorage.getItem("lwc"))var lastwaschecked=JSON.parse(localStorage.getItem("lwc"));else lastwaschecked="-1";function filt(t){if("all"==t||"-1"==lastwaschecked&&1==t){for(i=0;i<tasks.length;i++)tasks[i].style.display="flex";lastwaschecked="-1",localStorage.setItem("lwc",JSON.stringify(lastwaschecked)),all_but.classList.add("button_active"),chckd_but.classList.remove("button_active"),unchckd_but.classList.remove("button_active")}if("chckd"==t||"1"==lastwaschecked&&1==t){for(lastwaschecked="1",localStorage.setItem("lwc",JSON.stringify(lastwaschecked)),i=0;i<tasks.length;i++)tasks[i].firstChild.checked||(tasks[i].style.display="none"),tasks[i].firstChild.checked&&(tasks[i].style.display="flex");all_but.classList.remove("button_active"),chckd_but.classList.add("button_active"),unchckd_but.classList.remove("button_active")}if("unchckd"==t||"0"==lastwaschecked&&1==t){for(i=0;i<tasks.length;i++)tasks[i].firstChild.checked||(tasks[i].style.display="flex"),tasks[i].firstChild.checked&&(tasks[i].style.display="none");lastwaschecked="0",localStorage.setItem("lwc",JSON.stringify(lastwaschecked)),all_but.classList.remove("button_active"),chckd_but.classList.remove("button_active"),unchckd_but.classList.add("button_active")}if(1==t){let t=0;for(i=0;i<tasks.length;i++)tasks[i].firstChild.checked&&(t+=1);counter.innerText="Невыполненных: "+(tasks.length-t).toString()}}function del(t){t.parentNode.remove();let s=0;for(i=0;i<tasks.length;i++)tasks[i].firstChild.checked&&(s+=1);counter.innerText="Невыполненных: "+(tasks.length-s).toString()}function checkall_func(){let t=0;for(i=0;i<tasks.length;i++)tasks[i].firstChild.checked&&(t+=1);if(t!=tasks.length)for(i=0;i<tasks.length;i++)for(i=0;i<tasks.length;i++)tasks[i].firstChild.checked=!0;else for(i=0;i<tasks.length;i++)for(i=0;i<tasks.length;i++)tasks[i].firstChild.checked=!1;filt(1)}filt(1),inp.addEventListener("keyup",(function(t){if("Enter"===t.key){let t=document.createElement("div");t.className="task",t.innerHTML="<input class='task__chckbox' type='checkbox' onClick='filt(1)'><p class='task__text'>"+inp.value+"</p><button class='task__del' onClick='del(this)'>Удалить</button>",inp.value="","1"==lastwaschecked&&(t.style.display="none"),task_list.appendChild(t);let s=0;for(i=0;i<tasks.length;i++)tasks[i].firstChild.checked&&(s+=1);counter.innerText="Невыполненных: "+(tasks.length-s).toString()}}));